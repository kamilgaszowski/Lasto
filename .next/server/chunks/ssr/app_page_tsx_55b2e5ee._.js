module.exports=[60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=()=>(0,b.jsx)("span",{className:"icon-md icon-bold icon-square",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M16 4l-10 8 10 8"})})}),e=()=>(0,b.jsx)("span",{className:"icon-md icon-bold icon-square",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M8 4l10 8-10 8"})})}),f=()=>(0,b.jsx)("span",{className:"icon-xl icon-thin",children:(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,b.jsx)("path",{d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378.138.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),(0,b.jsx)("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),g=()=>(0,b.jsx)("span",{className:"icon-md icon-normal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),h=()=>(0,b.jsx)("span",{className:"icon-md icon-normal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M4.5 12.75l6 6 9-13.5"})})}),i=()=>(0,b.jsx)("span",{className:"icon-lg icon-normal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),j=()=>(0,b.jsx)("span",{className:"icon-md icon-normal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),k=()=>(0,b.jsx)("span",{className:"icon-md icon-normal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})})}),l=()=>(0,b.jsx)("span",{className:"icon-md icon-normal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})}),m=()=>(0,b.jsx)("span",{className:"icon-lg icon-normal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})})}),n=()=>(0,b.jsx)("span",{className:"icon-sm icon-normal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})})}),o=()=>(0,b.jsx)("span",{className:"icon-sm icon-normal",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})})}),p="recordings",q=async a=>{let b=await Promise.reject("Server side");return new Promise((c,d)=>{let e=b.transaction(p,"readwrite");e.objectStore(p).put(a),e.oncomplete=()=>c(),e.onerror=()=>d(e.error)})},r=async()=>{let a=await Promise.reject("Server side");return new Promise((b,c)=>{let d=a.transaction(p,"readonly").objectStore(p).getAll();d.onsuccess=()=>b(d.result),d.onerror=()=>c(d.error)})},s=async a=>{let b=await Promise.reject("Server side");return new Promise((c,d)=>{let e=b.transaction(p,"readwrite");e.objectStore(p).delete(a),e.oncomplete=()=>c(),e.onerror=()=>d(e.error)})},t=a=>a.map(a=>({id:a.id,ti:a.title,da:a.date,sn:a.speakerNames,u:a.utterances?.map(a=>({s:a.speaker,t:a.text}))||[]}));function u(){let[a,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)({isOpen:!1,title:"",message:""}),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(""),[X,Y]=(0,c.useState)("light"),[Z,$]=(0,c.useState)(!1),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(!1),af=(0,c.useRef)(null),[ag,ah]=(0,c.useState)(!1),ai=(0,c.useRef)(null);(0,c.useEffect)(()=>{u(localStorage.getItem("assemblyAIKey")||""),w(localStorage.getItem("pantryId")||""),navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(a=>console.log("Storage persistent:",a)),(async()=>{try{let a=localStorage.getItem("lastoHistory");if(a){try{let b=JSON.parse(a);if(Array.isArray(b)&&b.length>0)for(let a of b)await q(a)}catch(a){}localStorage.removeItem("lastoHistory")}let b=(await r()).sort((a,b)=>new Date(b.date).getTime()-new Date(a.date).getTime());y(b)}catch(a){console.error("Błąd bazy danych:",a)}})();let a=localStorage.getItem("lastoTheme");a&&Y(a)},[]),(0,c.useEffect)(()=>{},[]),(0,c.useEffect)(()=>{"dark"===X?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("lastoTheme",X)},[X]),(0,c.useEffect)(()=>{N&&af.current?.focus(),ag&&ai.current?.focus()},[N,ag]);let aj=(a,b)=>a.speakerNames&&void 0!==a.speakerNames[b]?a.speakerNames[b]:({A:"Rozmówca A",B:"Rozmówca B"})[b]||`Rozm\xf3wca ${b}`,ak=async(a,b)=>{if(!z)return;let c={...z,speakerNames:{...z.speakerNames,[a]:b}};y(a=>a.map(a=>a.id===z.id?c:a)),A(c),await q(c)},al=a=>{Q(a),O(!0)},am=async()=>{if(P){E(!0);try{await s(P);let a=x.filter(a=>a.id!==P);if(y(a),z?.id===P&&A(null),O(!1),Q(null),v){let b=t(a);await fetch(`https://getpantry.cloud/apiv1/pantry/${v.trim()}/basket/lastoHistory`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chunk_0:b.slice(0,50),manifest:{totalChunks:Math.ceil(b.length/50),timestamp:Date.now()}})})}}catch(a){console.error(a)}finally{E(!1)}}},an=async()=>{E(!0);try{(await Promise.reject("Server side")).transaction(p,"readwrite").objectStore(p).clear(),y([]),A(null),ah(!1),v&&await fetch(`https://getpantry.cloud/apiv1/pantry/${v.trim()}/basket/lastoHistory`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chunk_0:[],manifest:{totalChunks:0,timestamp:Date.now()}})}),S({isOpen:!0,title:"Gotowe",message:"Wszystkie nagrania zostały usunięte."})}catch(a){console.error(a)}finally{E(!1)}},ao=async()=>{if(!z||!V.trim())return void U(!1);let a={...z,title:V};y(b=>b.map(b=>b.id===z.id?a:b)),A(a),U(!1),await q(a)},ap=async a=>{if(v)try{let b=t(a);await fetch(`https://getpantry.cloud/apiv1/pantry/${v.trim()}/basket/lastoHistory`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chunk_0:b.slice(0,50),manifest:{totalChunks:Math.ceil(b.length/50),timestamp:Date.now()}})})}catch(a){console.error("Auto-backup failed",a)}},aq=async(b,c)=>{let d=setInterval(async()=>{try{let e=await fetch(`https://api.assemblyai.com/v2/transcript/${b}`,{headers:{Authorization:a}});if(!e.ok)return;let f=await e.json();if("completed"===f.status){clearInterval(d);let a=`${b}-${Date.now()}`,e={id:a,title:c,date:new Date().toISOString(),content:f.text,utterances:f.utterances,speakerNames:{A:"Rozmówca A",B:"Rozmówca B"}};await q(e),y(c=>{if(c.some(c=>c.id===a||c.id.startsWith(b)))return c;let d=[e,...c];return setTimeout(()=>ap(d),500),d}),A(e),E(!1),C("")}else"error"===f.status&&(clearInterval(d),C("Błąd AI"),E(!1))}catch(a){clearInterval(d),E(!1)}},3e3)},ar=async b=>{if(a){E(!0),C("Wysyłanie...");try{let c=await fetch("https://api.assemblyai.com/v2/upload",{method:"POST",headers:{Authorization:a},body:b}),{upload_url:d}=await c.json();C("Przetwarzanie AI...");let e=await fetch("https://api.assemblyai.com/v2/transcript",{method:"POST",headers:{Authorization:a,"Content-Type":"application/json"},body:JSON.stringify({audio_url:d,language_code:"pl",speaker_labels:!0})}),{id:f}=await e.json();aq(f,b.name)}catch(a){C("Błąd połączenia"),setTimeout(()=>E(!1),3e3)}}},as=async()=>{if(!v||!a)return void S({isOpen:!0,title:"Brak kluczy",message:"Upewnij się, że wpisałeś oba klucze w ustawieniach."});E(!0);try{let a=t(x);for(let b=0;b<a.length;b+=50)await fetch(`https://getpantry.cloud/apiv1/pantry/${v.trim()}/basket/lastoHistory`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({[`chunk_${Math.floor(b/50)}`]:a.slice(b,b+50),manifest:{totalChunks:Math.ceil(a.length/50),timestamp:Date.now()}})});ae(!0),aa(!0),setTimeout(()=>{ae(!1),aa(!1)},2e3)}catch(a){S({isOpen:!0,title:"Błąd",message:a.message})}finally{E(!1)}},at=async()=>{if(v){E(!0);try{let a=await fetch(`https://getpantry.cloud/apiv1/pantry/${v.trim()}/basket/lastoHistory`,{method:"GET"});if(!a.ok)throw Error("Nie znaleziono danych.");let b=await a.json(),c=[];if(b.manifest)for(let a=0;a<b.manifest.totalChunks;a++)b[`chunk_${a}`]&&(c=[...c,...b[`chunk_${a}`]]);if(c.length>0){let a=c.map(a=>{let b=a.u?.map(a=>({speaker:a.s,text:a.t}))||[],c=b.map(a=>a.text).join("\n");return{id:a.id,title:a.ti,date:a.da,content:a.c||c,utterances:b,speakerNames:a.sn}});y(b=>{let c=a.filter(a=>!b.some(b=>b.id===a.id));return(ac(!0),setTimeout(()=>ac(!1),2e3),0===c.length)?b:(c.forEach(async a=>await q(a)),[...c,...b].sort((a,b)=>new Date(b.date).getTime()-new Date(a.date).getTime()))}),G(!1)}}catch(a){S({isOpen:!0,title:"Błąd",message:a.message})}finally{E(!1)}}},au=a=>a.utterances&&0!==a.utterances.length?a.utterances.filter((a,b)=>!((a,b)=>{let c=["prosimy","poczekać","zawiesił","połączenie","kontynuować","wkrótce","rozmowę","będziesz","mógł","oczekiwanie"],d=a.toLowerCase();if(b<2)return c.some(a=>d.includes(a));let e=0;return c.forEach(a=>{d.includes(a)&&e++}),e>=3})(a.text,b)).map(b=>{let c="A"===b.speaker||"1"===b.speaker?"A":"B";return`${aj(a,c).toUpperCase()}:
${b.text}
`}).join("\n"):a.content;return(0,b.jsxs)("main",{className:"flex h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 overflow-hidden font-sans transition-colors duration-300",children:[(0,b.jsx)("div",{className:`lasto-sidebar ${J?"sidebar-open":"sidebar-closed"}`,children:(0,b.jsxs)("div",{className:"sidebar-content",children:[(0,b.jsxs)("div",{className:"sidebar-header",children:[(0,b.jsx)("h2",{onClick:()=>K(!1),className:"text-2xl font-light tracking-tight cursor-pointer",children:"Archiwum"}),(0,b.jsx)("button",{onClick:()=>K(!1),className:"text-gray-300 hover:text-black dark:hover:text-white cursor-pointer transition-colors",children:(0,b.jsx)(d,{})})]}),(0,b.jsxs)("div",{className:"sidebar-actions-grid",children:[(0,b.jsxs)("button",{onClick:at,disabled:!v||D,className:`btn-action-base ${ab?"btn-status-success":"btn-pobierz"}`,children:[!ab&&(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),(0,b.jsx)("span",{children:ab?"Pobrano":"Pobierz"})]}),(0,b.jsxs)("button",{onClick:as,disabled:!v||D,className:`btn-action-base ${ad?"btn-status-success":"btn-wyslij"}`,children:[!ad&&(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),(0,b.jsx)("span",{children:ad?"Wysłano":"Wyślij"})]})]}),(0,b.jsx)("div",{className:"archive-list",children:x.map(a=>(0,b.jsxs)("button",{onClick:()=>{A(a),window.innerWidth<768&&K(!1)},className:`archive-item ${z?.id===a.id?"archive-item-active":""}`,children:[(0,b.jsx)("div",{onClick:b=>{b.stopPropagation(),al(a.id)},className:"archive-delete-btn",children:(0,b.jsx)(i,{})}),(0,b.jsx)("div",{className:"archive-item-title",children:a.title}),(0,b.jsx)("div",{className:"archive-item-date",children:new Date(a.date).toLocaleString("pl-PL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},a.id))}),x.length>0&&(0,b.jsx)("div",{className:"sidebar-footer",children:(0,b.jsxs)("button",{onClick:()=>ah(!0),className:"btn-clear-archive",children:[(0,b.jsx)(j,{}),(0,b.jsx)("span",{children:"Wyczyść Archiwum"})]})})]})}),(0,b.jsxs)("div",{className:`lasto-main-panel ${J?"panel-shifted":""}`,children:[(0,b.jsxs)("div",{className:"top-bar",children:[(0,b.jsxs)("div",{className:"top-bar-left",children:[!J&&(0,b.jsx)("button",{onClick:()=>K(!0),className:"icon-button",children:(0,b.jsx)(e,{})}),z&&(0,b.jsx)("button",{onClick:()=>A(null),className:"btn-logo",children:"Lasto"})]}),(0,b.jsx)("button",{onClick:()=>G(!0),className:"settings-trigger",children:(0,b.jsx)(f,{})})]}),(0,b.jsx)("div",{className:"workspace-area",children:z?(0,b.jsxs)("div",{className:"editor-container",children:[(0,b.jsx)("div",{className:"editor-header",children:T?(0,b.jsxs)("div",{className:"title-edit-mode",children:[(0,b.jsx)("input",{className:"title-input",value:V,onChange:a=>W(a.target.value),onKeyDown:a=>"Enter"===a.key&&ao(),autoFocus:!0}),(0,b.jsx)("button",{onClick:ao,className:"btn-confirm",children:(0,b.jsx)(h,{})})]}):(0,b.jsxs)("div",{className:"title-view-mode",children:[(0,b.jsx)("button",{onClick:()=>al(z.id),className:"btn-delete-record",children:(0,b.jsx)(j,{})}),(0,b.jsxs)("div",{className:"title-clickable",onClick:()=>{W(z.title),U(!0)},children:[(0,b.jsx)("h1",{className:"title-text",children:z.title}),(0,b.jsx)("span",{className:"edit-indicator",children:(0,b.jsx)(g,{})})]}),(0,b.jsxs)("button",{onClick:as,disabled:!v||D,className:`btn-save-cloud ${_?"btn-status-success":""}`,children:[D?(0,b.jsx)("div",{className:"loader-spin-xs"}):!_&&(0,b.jsx)(n,{}),(0,b.jsx)("span",{children:_?"Zapisano":"Zapisz"})]})]})}),(0,b.jsxs)("div",{className:"speaker-names-grid",children:[(0,b.jsx)("input",{className:"speaker-field",value:aj(z,"A"),onChange:a=>ak("A",a.target.value),placeholder:"Osoba A"}),(0,b.jsx)("input",{className:"speaker-field",value:aj(z,"B"),onChange:a=>ak("B",a.target.value),placeholder:"Osoba B"})]}),(0,b.jsx)("textarea",{className:"transcript-editor",value:au(z),readOnly:!0}),(0,b.jsx)("div",{className:"editor-footer",children:(0,b.jsxs)("button",{onClick:()=>{z&&(navigator.clipboard.writeText(au(z)),$(!0),setTimeout(()=>$(!1),2e3))},className:`btn-copy ${Z?"btn-status-success":""}`,children:[!Z&&(0,b.jsx)(o,{}),(0,b.jsx)("span",{children:Z?"Skopiowano":"Kopiuj tekst"})]})})]}):(0,b.jsxs)("div",{className:"hero-container",children:[(0,b.jsxs)("div",{className:"hero-content",children:[(0,b.jsx)("div",{className:"hero-title",children:"Lasto"}),(0,b.jsxs)("div",{className:"hero-subtitle",children:[(0,b.jsx)("span",{children:"Słuchaj"})," ",(0,b.jsx)("span",{className:"rune-divider",children:"ᛟ"}),(0,b.jsx)("span",{children:"Nagraj"})," ",(0,b.jsx)("span",{className:"rune-divider",children:"ᛟ"}),(0,b.jsx)("span",{children:"Pisz"})]})]}),(0,b.jsx)("div",{className:"import-zone",children:D?(0,b.jsxs)("div",{className:"loader-container",children:[(0,b.jsx)("div",{className:"loader-spin"}),(0,b.jsx)("span",{className:"loader-text",children:H||B||"Przetwarzanie..."})]}):a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("label",{onDragOver:a=>{a.preventDefault(),M(!0)},onDragLeave:()=>M(!1),onDrop:b=>{b.preventDefault(),M(!1);let c=b.dataTransfer.files?.[0];c&&a&&ar(c)},className:`btn-import ${L?"import-dragging":""}`,children:[L?"Upuść tutaj!":"Importuj nagranie",(0,b.jsx)("input",{type:"file",className:"hidden",accept:"audio/*",onChange:a=>{let b=a.target.files?.[0];b&&ar(b)}})]}),(0,b.jsx)("p",{className:"format-hint",children:"WAV • MP3 • M4A"})]}):(0,b.jsx)("button",{onClick:()=>G(!0),className:"btn-primary",children:"Dodaj pierwsze nagranie"})})]})}),(0,b.jsxs)("div",{className:"main-footer",children:[(0,b.jsxs)("div",{className:"auto-save-indicator",children:[(0,b.jsx)("div",{className:"status-dot"}),(0,b.jsx)("span",{children:"Auto-save on (DB)"})]}),(0,b.jsxs)("div",{className:"footer-signature",children:[(0,b.jsx)("span",{className:"italic",children:"Lasto beth nîn"}),(0,b.jsx)("span",{className:"rune-divider",children:"ᛟ"}),(0,b.jsx)("span",{children:"developed by Kamil Gąszowski"}),(0,b.jsx)("span",{className:"rune-divider",children:"ᛟ"}),(0,b.jsx)("span",{children:new Date().getFullYear()})]})]})]}),F&&(0,b.jsx)("div",{className:"settings-overlay",onClick:()=>G(!1),children:(0,b.jsxs)("div",{className:"settings-modal",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{onClick:()=>G(!1),className:"settings-close-btn",children:(0,b.jsx)(i,{})}),(0,b.jsxs)("div",{className:"guide-panel",children:[(0,b.jsx)("h3",{className:"guide-heading",children:"Przewodnik konfiguracji"}),(0,b.jsxs)("div",{className:"space-y-12",children:[(0,b.jsxs)("div",{className:"step-container",children:[(0,b.jsxs)("div",{className:"step-header",children:[(0,b.jsx)("span",{className:"step-number",children:"1"}),(0,b.jsx)("h4",{className:"step-title",children:"Transkrypcja (AssemblyAI)"})]}),(0,b.jsxs)("div",{className:"step-content",children:[(0,b.jsx)("p",{children:"Klucz API pozwala SI zamienić Twoje nagrania na tekst."}),(0,b.jsxs)("ul",{className:"list-disc space-y-3 pl-4 font-medium",children:[(0,b.jsxs)("li",{children:["Zarejestruj się na ",(0,b.jsx)("a",{href:"https://www.assemblyai.com/",target:"_blank",className:"step-link",children:"assemblyai.com"})]}),(0,b.jsxs)("li",{children:["Wejdź do ",(0,b.jsx)("span",{className:"highlight-text",children:"Dashboard"})," i skopiuj ",(0,b.jsx)("span",{className:"highlight-text",children:"Your API Key"})]})]})]})]}),(0,b.jsxs)("div",{className:"step-container",children:[(0,b.jsxs)("div",{className:"step-header",children:[(0,b.jsx)("span",{className:"step-number",children:"2"}),(0,b.jsx)("h4",{className:"step-title",children:"Synchronizacja (Pantry)"})]}),(0,b.jsxs)("div",{className:"step-content",children:[(0,b.jsx)("p",{children:"Pantry ID chroni historię przed wyczyszczeniem danych przeglądarki."}),(0,b.jsxs)("ul",{className:"list-disc space-y-3 pl-4 font-medium",children:[(0,b.jsxs)("li",{children:["Wejdź na ",(0,b.jsx)("a",{href:"https://getpantry.cloud/",target:"_blank",className:"step-link",children:"getpantry.cloud"})]}),(0,b.jsx)("li",{children:"ID znajdziesz w Dashboardzie po stworzeniu nowej Spiżarni."})]})]})]})]})]}),(0,b.jsxs)("div",{className:"form-panel",children:[(0,b.jsx)("h3",{className:"settings-heading",children:"Ustawienia"}),(0,b.jsxs)("div",{className:"space-y-12",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"settings-label",children:"Wygląd"}),(0,b.jsxs)("div",{className:"theme-switcher",children:[(0,b.jsxs)("button",{onClick:()=>Y("light"),className:`theme-btn ${"light"===X?"theme-btn-active":""}`,children:[(0,b.jsx)(k,{}),(0,b.jsx)("span",{children:"Jasny"})]}),(0,b.jsxs)("button",{onClick:()=>Y("dark"),className:`theme-btn ${"dark"===X?"theme-btn-active":""}`,children:[(0,b.jsx)(l,{}),(0,b.jsx)("span",{children:"Ciemny"})]})]})]}),(0,b.jsx)("form",{className:"space-y-8",onSubmit:a=>{a.preventDefault(),G(!1)},children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"input-group",children:[(0,b.jsx)("label",{className:"input-label",children:"AssemblyAI Key"}),(0,b.jsx)("input",{type:"password",name:"assembly-key",autoComplete:"current-password",className:"settings-input",value:a,onChange:a=>{u(a.target.value),localStorage.setItem("assemblyAIKey",a.target.value)}})]}),(0,b.jsxs)("div",{className:"input-group",children:[(0,b.jsx)("label",{className:"input-label",children:"Pantry ID"}),(0,b.jsx)("input",{type:"text",name:"username",value:"LastoUser",autoComplete:"username",className:"hidden",readOnly:!0}),(0,b.jsx)("input",{type:"password",name:"password",autoComplete:"current-password",className:"settings-input",value:v,onChange:a=>{w(a.target.value),localStorage.setItem("pantryId",a.target.value)}})]})]})}),(0,b.jsxs)("div",{className:"backup-section",children:[(0,b.jsx)("label",{className:"settings-label",children:"Backup kluczy"}),(0,b.jsxs)("div",{className:"backup-grid",children:[(0,b.jsx)("button",{onClick:()=>{let b=new Blob([JSON.stringify({assemblyAIKey:a,pantryId:v},null,2)],{type:"application/json"}),c=URL.createObjectURL(b),d=document.createElement("a");d.download="lasto_keys_backup.json",d.href=c,d.click(),URL.revokeObjectURL(c)},className:"btn-backup",children:"Zapisz do pliku"}),(0,b.jsxs)("label",{className:"btn-backup",children:["Wczytaj plik",(0,b.jsx)("input",{type:"file",className:"hidden",accept:".json",onChange:a=>{let b=a.target.files?.[0];if(!b)return;let c=new FileReader;c.onload=a=>{try{let b=JSON.parse(a.target?.result);(b.assemblyAIKey||b.pantryId)&&(b.assemblyAIKey&&(u(b.assemblyAIKey),localStorage.setItem("assemblyAIKey",b.assemblyAIKey)),b.pantryId&&(w(b.pantryId),localStorage.setItem("pantryId",b.pantryId)),S({isOpen:!0,title:"Sukces",message:"Klucze zostały zaimportowane."}))}catch(a){S({isOpen:!0,title:"Błąd",message:"Nieprawidłowy format pliku."})}},c.readAsText(b)}})]})]})]}),(0,b.jsx)("button",{onClick:()=>G(!1),className:"btn-submit",children:"Gotowe"})]})]})]})}),N&&(0,b.jsx)("div",{ref:af,className:"modal-backdrop",onClick:()=>O(!1),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),am()),"Escape"===a.key&&O(!1)},tabIndex:-1,children:(0,b.jsxs)("div",{className:"modal-box",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"modal-icon-wrapper icon-theme-red",children:(0,b.jsx)(j,{})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h3",{className:"modal-title-sm",children:"Usunąć nagranie?"}),(0,b.jsx)("p",{className:"modal-desc",children:"Tej operacji nie można cofnąć."})]}),(0,b.jsxs)("div",{className:"modal-actions-row",children:[(0,b.jsx)("button",{onClick:()=>O(!1),className:"btn-modal-cancel",children:"Anuluj"}),(0,b.jsx)("button",{onClick:am,className:"btn-modal-delete",children:"Usuń (Enter)"})]})]})}),ag&&(0,b.jsx)("div",{ref:ai,className:"modal-backdrop-high",onClick:()=>ah(!1),onKeyDown:a=>{"Enter"===a.key&&an(),"Escape"===a.key&&ah(!1)},tabIndex:-1,children:(0,b.jsxs)("div",{className:"modal-box",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"modal-icon-wrapper icon-theme-danger",children:(0,b.jsx)(j,{})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h3",{className:"modal-title-bold",children:"Usunąć wszystko?"}),(0,b.jsx)("p",{className:"modal-desc",children:"Stracisz bezpowrotnie wszystkie nagrania lokalne i w chmurze Pantry."})]}),(0,b.jsxs)("div",{className:"modal-actions-col",children:[(0,b.jsx)("button",{onClick:an,className:"btn-modal-delete-all",children:"Tak, usuń wszystko (Enter)"}),(0,b.jsx)("button",{onClick:()=>ah(!1),className:"btn-modal-cancel-text",children:"Anuluj (Esc)"})]})]})}),R.isOpen&&(0,b.jsx)("div",{className:"modal-backdrop-light",onClick:()=>S({...R,isOpen:!1}),children:(0,b.jsxs)("div",{className:"modal-box space-y-6",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"modal-icon-wrapper icon-theme-neutral",children:(0,b.jsx)(m,{})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h3",{className:"modal-title-sm",children:R.title}),(0,b.jsx)("p",{className:"modal-desc",children:R.message})]}),(0,b.jsx)("div",{className:"pt-2",children:(0,b.jsx)("button",{onClick:()=>S({...R,isOpen:!1}),className:"btn-modal-ok",children:"OK"})})]})})]})}a.s(["default",()=>u],60350)}];

//# sourceMappingURL=app_page_tsx_55b2e5ee._.js.map